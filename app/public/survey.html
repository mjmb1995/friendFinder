<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>FriendFinder</title>
  <!-- jQuery CDN -->
  <script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

</head>
<body>

  <div class="container">

    <h1>Survey Questions</h1>
    <hr>

    <h2>About You</h2>
    <form>
      <div class="form-group">
        <label for="name">Name (Required)</label>
        <input type="Name" class="form-control" id="name" placeholder="Name">
      </div>
      <div class="form-group">
        <label for="exampleInputPassword1">Link to Photo Image</label>
        <input type="photo" class="form-control" id="photo" placeholder="link to photo image">
      </div>
      <hr>
      <!-- Question 1 -->
      <h2> Question 1</h2>
      <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
      <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
          
          <span id="question1">Select an option</span>
        
        <span class="caret"></span></button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu">
          <li class="dropdown-header">Strongly Disagree</li>
          <li class="option" value="1" data-name="question1"><a href="#" >1</a></li>
          <li class="option" value=2 data-name="question1"><a href="#" >2</a></li>
          <li class="option" value=3 data-name="question1"><a href="#" >3</a></li>
          <li class="option" value=4 data-name="question1"><a href="#" >4</a></li>
          <li class="option" value=5 data-name="question1"><a href="#" >5</a></li>
          <li class="dropdown-header">Strongly Agree</li>
        </ul>
      </div>

       <!-- Question 2 -->
      <h2> Question 2</h2>
      <h4>Generally speaking, you rely more on your experience than your imagination.</h4>
      <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
          
          <span id="questionTwo">Select an option</span>
        
        <span class="caret"></span></button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu">
          <li class="dropdown-header">Strongly Disagree</li>
          <li class="option" value="1" data-name="questionTwo"><a href="#" >1</a></li>
          <li class="option" value="2" data-name="questionTwo"><a href="#" >2</a></li>
          <li class="option" value="3" data-name="questionTwo"><a href="#" >3</a></li>
          <li class="option" value="4" data-name="questionTwo"><a href="#" >4</a></li>
          <li class="option" value="5" data-name="questionTwo"><a href="#" >5</a></li>
          <li class="dropdown-header" data-name="questionTwo">Strongly Agree</li>
        </ul>
      </div>

      <!-- Question 3 -->
      <h2> Question 3</h2>
      <h4>You find it easy to stay relaxed and focused even when there is some pressure.</h4>
      <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
          
          <span id="questionThree">Select an option</span>
        
        <span class="caret"></span></button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu">
          <li class="dropdown-header">Strongly Disagree</li>
          <li class="option" value="1" data-name="questionThree"><a href="#" >1</a></li>
          <li class="option" value="2" data-name="questionThree"><a href="#" >2</a></li>
          <li class="option" value="3" data-name="questionThree"><a href="#" >3</a></li>
          <li class="option" value="4" data-name="questionThree"><a href="#" >4</a></li>
          <li class="option" value="5" data-name="questionThree"><a href="#" >5</a></li>
          <li class="dropdown-header" data-name="questionThree">Strongly Agree</li>
        </ul>
      </div>

      <!-- Question 4 -->
      <h2> Question 4</h2>
      <h4>You rarely do something just out of sheer curiosity.</h4>
      <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
          
          <span id="questionFour">Select an option</span>
        
        <span class="caret"></span></button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu">
          <li class="dropdown-header">Strongly Disagree</li>
          <li class="option" value="1" data-name="questionFour"><a href="#" >1</a></li>
          <li class="option" value="2" data-name="questionFour"><a href="#" >2</a></li>
          <li class="option" value="3" data-name="questionFour"><a href="#" >3</a></li>
          <li class="option" value="4" data-name="questionFour"><a href="#" >4</a></li>
          <li class="option" value="5" data-name="questionFour"><a href="#" >5</a></li>
          <li class="dropdown-header" data-name="questionFour">Strongly Agree</li>
        </ul>
      </div>

      <!-- Question 5 -->
      <h2> Question 5</h2>
      <h4>You are rarely upset.</h4>
      <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
          
          <span id="questionFive">Select an option</span>
        
        <span class="caret"></span></button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu">
          <li class="dropdown-header">Strongly Disagree</li>
          <li class="option" value="1" data-name="questionFive"><a href="#" >1</a></li>
          <li class="option" value="2" data-name="questionFive"><a href="#" >2</a></li>
          <li class="option" value="3" data-name="questionFive"><a href="#" >3</a></li>
          <li class="option" value="4" data-name="questionFive"><a href="#" >4</a></li>
          <li class="option" value="5" data-name="questionFive"><a href="#" >5</a></li>
          <li class="dropdown-header" data-name="questionFive">Strongly Agree</li>
        </ul>
      </div>

      <!-- Question 6 -->
      <h2> Question 6</h2>
      <h4>You have a hard time relating to other people.</h4>
      <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
          
          <span id="questionSix">Select an option</span>
        
        <span class="caret"></span></button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu">
          <li class="dropdown-header">Strongly Disagree</li>
          <li class="option" value="1" data-name="questionSix"><a href="#" >1</a></li>
          <li class="option" value="2" data-name="questionSix"><a href="#" >2</a></li>
          <li class="option" value="3" data-name="questionSix"><a href="#" >3</a></li>
          <li class="option" value="4" data-name="questionSix"><a href="#" >4</a></li>
          <li class="option" value="5" data-name="questionSix"><a href="#" >5</a></li>
          <li class="dropdown-header" data-name="questionSix">Strongly Agree</li>
        </ul>
      </div>

      <!-- Question 7 -->
      <h2> Question 7</h2>
      <h4>It is more important to tell the truth than protecting people's feelings.</h4>
      <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
          
          <span id="questionSeven">Select an option</span>
        
        <span class="caret"></span></button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu">
          <li class="dropdown-header">Strongly Disagree</li>
          <li class="option" value="1" data-name="questionSeven"><a href="#" >1</a></li>
          <li class="option" value="2" data-name="questionSeven"><a href="#" >2</a></li>
          <li class="option" value="3" data-name="questionSeven"><a href="#" >3</a></li>
          <li class="option" value="4" data-name="questionSeven"><a href="#" >4</a></li>
          <li class="option" value="5" data-name="questionSeven"><a href="#" >5</a></li>
          <li class="dropdown-header" data-name="questionSeven">Strongly Agree</li>
        </ul>
      </div>

      <!-- Question 8 -->
      <h2> Question 8</h2>
      <h4>You rarely get carried away by fantasies and ideas.</h4>
      <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
          
          <span id="questionEight">Select an option</span>
        
        <span class="caret"></span></button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu">
          <li class="dropdown-header">Strongly Disagree</li>
          <li class="option" value="1" data-name="questionEight"><a href="#" >1</a></li>
          <li class="option" value="2" data-name="questionEight"><a href="#" >2</a></li>
          <li class="option" value="3" data-name="questionEight"><a href="#" >3</a></li>
          <li class="option" value="4" data-name="questionEight"><a href="#" >4</a></li>
          <li class="option" value="5" data-name="questionEight"><a href="#" >5</a></li>
          <li class="dropdown-header" data-name="questionEight">Strongly Agree</li>
        </ul>
      </div>

      <!-- Question 9 -->
      <h2> Question 9</h2>
      <h4>You feel more energetic after spending time with a group of people.</h4>
      <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
          
          <span id="questionNine">Select an option</span>
        
        <span class="caret"></span></button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu">
          <li class="dropdown-header">Strongly Disagree</li>
          <li class="option" value="1" data-name="questionNine"><a href="#" >1</a></li>
          <li class="option" value="2" data-name="questionNine"><a href="#" >2</a></li>
          <li class="option" value="3" data-name="questionNine"><a href="#" >3</a></li>
          <li class="option" value="4" data-name="questionNine"><a href="#" >4</a></li>
          <li class="option" value="5" data-name="questionNine"><a href="#" >5</a></li>
          <li class="dropdown-header" data-name="questionNine">Strongly Agree</li>
        </ul>
      </div>

      <!-- Question 10 -->
      <h2> Question 10</h2>
      <h4>You prefer spending time reading a book than watching movies.</h4>
      <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
          
          <span id="questionTen">Select an option</span>
        
        <span class="caret"></span></button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu">
          <li class="dropdown-header">Strongly Disagree</li>
          <li class="option" value="1" data-name="questionTen"><a href="#" >1</a></li>
          <li class="option" value="2" data-name="questionTen"><a href="#" >2</a></li>
          <li class="option" value="3" data-name="questionTen"><a href="#" >3</a></li>
          <li class="option" value="4" data-name="questionTen"><a href="#" >4</a></li>
          <li class="option" value="5" data-name="questionTen"><a href="#" >5</a></li>
          <li class="dropdown-header" data-name="questionTen">Strongly Agree</li>
        </ul>
      </div>









      <br>
      <button id="submit" type="submit" class="btn btn-primary btn-lg btn-block">Submit</button>
    </form>

    <footer class="footer">
      <div class="container">
        <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/mjmb1995/friendFinder">GitHub Repo</a></p>
      </div>
    </footer>

  </div>
</body>
</html>



<!-- BELOW CODE IS CRITICAL. IT HANDLES HOW FORM DATA IS SENT TO OUR SERVER -->
<script type="text/javascript">

  // In this code below we create the Front-end JavaScript which "POSTS" our form data to our express server.
  // In essence, when the user hits submit, jQuery grabs all of the fields then sends a post request to our api
  // Our api recognizes the route (/api/tables)... and then runs the associated code (found in api-routes.js).
  // In this case the associated code "saves" the data to the table-data.js file or waitinglist-data.js file

  $("#submit").on("click", function(event) {
    event.preventDefault();

    // Here we grab the form elements
    var newFriend = {
      name: $("#name").val().trim(),
      photo: $("#photo").val().trim(),
    };
    var scores = [];

    function addScores(){
       for (var i = 1; i < 2; i++){
      var value = $("#question" + i).val()
      console.log(value);
      value = Number(value);
      console.log(value);
      scores.push(value);
      }
    }
    addScores();
    console.log(scores);
    console.log(newFriend);

    // This line is the magic. It"s very similar to the standard ajax function we used.
    // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
    // The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
    // depending on if a tables is available or not.
    $.post("/api/friends", newFriend,
      function(data) {
        // If a table is available... tell user they are booked.
        if (data) {
          alert("Finding compatible friends..");
        }
        // If a table is available... tell user they on the waiting list.
        else {
          alert("Error..");
        }
        // Clear the form when submitting
        $("#name").val("");
        $("#photo").val("");
        $("#question1").val("Select an option")
        // $("#questionTwo").val("Select an option"),
        // $("#questionThree").val("Select an option"),
        // $("#questionFour").val("Select an option"),
        // $("#questionFive").val("Select an option"),
        // $("#questionSix").val("Select an option"),
        // $("#questionSeven").val("Select an option"),
        // $("#questionEight").val("Select an option"),
        // $("#questionNine").val("Select an option"),
        // $("#questionTen").val("Select an option")
      });
  });

var displayAnswer = function(){
  event.preventDefault();
  var selected = $(this);
  var selectedValue = selected.val();
  var questionNum = selected.data("name")
  $("#" + questionNum ).text(selectedValue);
  $("#" + questionNum ).attr("value", selectedValue);
  console.log("Button value: " + selectedValue);
}
    


$(document).on("click", ".option", displayAnswer);

</script>
